{{#if isMobileApp}}
  {{scroll-to-bottom customClass="appointment-detail-info-scroll-arrow"}}
{{/if}}

<div class="row">
  <div class="large-8 columns large-offset-2 medium-offset-1 medium-10 small-12">
    <div class="row checkout_pages">
      <div class="small-12">
        <section class="main-section new-user-section ui login_page book_appointment_headers">
          <nav class="tab-bar">
            <section class="left-large inline-content">
              {{fa-icon "angle-left"}}
              {{#if (is-equal previousRouteName "my_orders")}}
                {{#link-to 'my_orders' classNames="back"}}{{t "back"}}{{/link-to}}
              {{else}}
                {{#link-to 'order.goods_details' order.id classNames="back"}}{{t "back"}}{{/link-to}}
              {{/if}}
            </section>
             <section class="middle tab-bar-section">
              <h1 class="title"> {{t 'order.appointment.title'}} </h1>
            </section>
            <section {{action "cancelBookingPopUp"}} id="cancel-booking-link" class="right-large inline-content right-align">
              {{t "cancel"}}
            </section>
          </nav>
        </section>


          {{#validate-appointment}}
            {{#validatable-form onSubmit=(action 'saveTransportDetails') as |form|}}
              <section class="main-section client-information large-10 large-offset-1 medium-10 medium-offset-1 columns appointment-date small-10 small-offset-1">
                <div class="small-12 columns type-of-id-text">
                  {{t 'order.appointment.transport'}}
                </div>
                <div class="row time_inputs id-type-radio-input" >
                  <div class=" custom_radio_buttons small-12 columns purpose col-width-appointment" for="For HKID">
                    {{radio-button
                    name="selectReason"
                    id="self"
                    value="self"
                    selection=selectedId
                    required='true'}}
                    <label class="radio-button-text align-text self_vehicle" for="self">
                      {{t 'order.appointment.self_vehicle'}}
                    </label>
                  </div>

                  <div class=" custom_radio_buttons small-12 columns purpose col-width-appointment end" for="For asyLum">
                    {{radio-button
                    name="selectReason"
                    id="ggv"
                    value="ggv"
                    selection=selectedId
                    required='true'}}
                    <label class="radio-button-text align-text hire_vehicle" for="ggv">
                      {{t 'order.appointment.hire_vehicle'}}
                    </label>
                  </div>
                </div>
                <br>

                <div class="small-12 columns type-of-id-text">
                  {{t 'order.appointment.confirm_labor'}}
                </div>

                <div class="small-12 columns id-confidential-text">
                  {{t 'order.appointment.labor_info'}}
                </div>
                <div class="row time_inputs id-type-radio-input" >
                  <div class='checkbox custom_radio_buttons small-12 columns purpose col-width-appointment confirmation-checkbox'>
                    {{input type="checkbox" name="labor" checked=false id='4' required=true}}
                    <label class="radio-button-text  align-text" for='4'>
                    <span class="labor_confirmation"> {{t 'order.appointment.labor_confirmation'}} </span>
                    </label>
                  </div>
                </div>
                <br>

                <div class="row">
                  <div class="small-12 columns type-of-id-text">
                    {{t 'order.appointment.date'}}
                  </div>
                </div>

                <div class="row time_inputs">
                  <div class=" small-12 columns date_selector">
                    {{select-appointment-date
                      name='selectedDate'
                      id='selectedDate'
                      value=''
                      available=available_dates
                      selection=selectedDate
                      placeholder="Date"
                      pattern="[a-zA-Z]{3}\s?[a-zA-Z]{3}\s?[0-9]{1,2}"}}
                    <i class="fa fa-calendar calender_icon"></i>
                  </div>
                </div>

                <br>
                {{#if selectedDate}}
                  <div class="small-12 columns type-of-id-text">
                    {{t 'order.appointment.time'}}
                  </div>
                  <div class="row time_inputs id-type-radio-input time-slots" >
                    {{#each timeSlots as |time|}}
                      {{#unless time.isClosed}}
                          <div class="custom_radio_buttons small-4 large-4 medium-4 columns end">
                            {{radio-button
                            name="selectTime"
                            id=time.timestamp
                            value=time.timestamp
                            selection=selectedTimeId
                            required='true'}}
                            <label class="radio-button-text align-text time_slots" for={{time.timestamp}}>
                              {{display-time time.timestamp "HH:mm"}}
                            </label>
                          </div>
                      {{/unless}}
                    {{/each}}
                  </div>
                  {{#if timeSlotNotSelected}}
                    <p align="center" class="no-time-slot-selected-error">
                      {{t "order.goods_details.no_time_slot_selected_error"}}
                    </p>
                  {{/if}}
                {{/if}}
                <div class="row">
                  {{#if isEditing}}
                    <div class="small-6 medium-6 large-6 columns">
                      <a {{action 'submit' target=form}} id="appointment-submit" class="button expand appointment">
                        {{t 'save_changes'}}
                      </a>
                    </div>
                    <div class="small-6 medium-6 large-6 columns">
                      {{#if (is-equal previousRouteName "my_orders")}}
                        {{#link-to 'my_orders' classNames="button expand appointment"}}
                          {{t 'discard_changes'}}
                        {{/link-to}}
                      {{else}}
                        {{#link-to 'order.goods_details' order.id classNames="button expand appointment"}}
                          {{t 'discard_changes'}}
                        {{/link-to}}
                      {{/if}}
                    </div>
                  {{else}}
                    <div class="small-12 columns">
                      <a {{action 'submit' target=form}} id="appointment-submit" class="button expand appointment">
                        {{t 'continue'}}
                      </a>
                    </div>
                  {{/if}}
                </div>
              </section>
            {{/validatable-form}}
          {{/validate-appointment}}
      </div>
    </div>
  </div>
</div>
{{partial "order/cancel_order"}}
